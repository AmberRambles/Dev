<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<style>
		html{
			background-color: antiquewhite;
			font-size: 20px;
		}
	</style>
    <script>
        function countdown(){
			const outputElement = document.getElementById("outputBox");
			var alertSound = new Audio();
			alertSound.src = "./resources/Alert.wav";
            let timeLeft = document.getElementById("inputTime").value;
			timeLeft = parseInt(timeLeft, 10);
			outputElement.innerHTML = timeLeft;
			function tick(){
				//console.log("Tick");
				if (timeLeft == 0) {
					//console.log("Timer complete.")
					alertSound.play();
					alert("Time is up!");
				}
				else {
					//console.log("Time before update: " + timeLeft);
					timeLeft -= 1;
					//console.log("Time after update: " + timeLeft);
					outputElement.innerHTML = timeLeft;
					//console.log("Updates complete, scheduling next tick.")
					setTimeout(tick, 1000);
				}
			}
			setTimeout(tick, 100);
        }
		//console.log("Page Loaded.");
    </script>
    <title>Timer</title>
</head>
<body>
    <header><h1>Timer</h1></header>
    <main>
        <label for="inputTime">Enter a time in seconds:</label>
        <input type="number" name="inputTime" id="inputTime" min="1" step="5">
        <button onclick="countdown()">Countdown!</button>
        <br>
        <output id="outputBox"></output>
    </main>
</body>
</html>